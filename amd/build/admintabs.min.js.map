{"version":3,"file":"admintabs.min.js","sources":["../src/admintabs.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Theme Boost Union - JS code current admin tab selector\n *\n * @module     theme_boost_union/admintab\n * @copyright  2023 Mario Wehr <m.wehr@fh-kaernten.at>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function($) {\n    \"use strict\";\n\n    /**\n     * Initialising.\n     */\n    function initAdminTabs() {\n        // Wait for bootstrap\n        whenBootstrapAvailable(() => {\n            const sessionKey = \"boost_union_active_admin_tab\";\n            // Register for all boost union tabs\n            $('a[href^=\"#theme_boost_union_\"]').parent().on(\"shown.bs.tab\", function() {\n                // Store active tab in session\n                sessionStorage.setItem(sessionKey, $(this).children(\"a\").eq(0).attr(\"href\"));\n            });\n            // Get active tab from session\n            const activeTab = sessionStorage.getItem(sessionKey);\n            if (activeTab) {\n                // Show active tab from session\n                $('a[href=\"' + activeTab + '\"]').tab(\"show\");\n            }\n        });\n    }\n\n    /**\n     * Wait for Bootstrap is finally loaded\n     * @param {function} callback\n     */\n    function whenBootstrapAvailable(callback) {\n        window.setTimeout(() => {\n            if (typeof $().tab == \"function\") {\n                callback();\n            } else {\n                whenBootstrapAvailable(callback);\n            }\n        }, 100);\n    }\n\n    return {\n        init: function() {\n            initAdminTabs();\n        }\n    };\n});"],"names":["define","$","initAdminTabs","whenBootstrapAvailable","parent","on","sessionStorage","setItem","this","children","eq","attr","activeTab","getItem","tab","callback","window","setTimeout","init"],"mappings":";;;;;;;AAuBAA,qCAAO,CAAC,WAAW,SAASC,YAMfC,gBAELC,wBAAuB,KAGnBF,EAAE,kCAAkCG,SAASC,GAAG,gBAAgB,WAE5DC,eAAeC,QAJA,+BAIoBN,EAAEO,MAAMC,SAAS,KAAKC,GAAG,GAAGC,KAAK,kBAGlEC,UAAYN,eAAeO,QAPd,gCAQfD,WAEAX,EAAE,WAAaW,UAAY,MAAME,IAAI,oBASxCX,uBAAuBY,UAC5BC,OAAOC,YAAW,KACQ,mBAAXhB,IAAIa,IACXC,WAEAZ,uBAAuBY,YAE5B,WAGA,CACHG,KAAM,WACFhB"}